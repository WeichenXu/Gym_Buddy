{# Load the tag library #}
{% load bootstrap3 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

<ul class="navbar navbar-inverse">
    <a class="navbar-brand" href="#">Gym Buddy</a>
    <ul class="nav navbar-nav">
    <li class="nav-item active">
    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
    </li>
    <li class="nav-item">
    <a class="nav-link" href="#">Features</a>
    </li>
    <li class="nav-item">
    <a class="nav-link" href="#">Pricing</a>
    </li>
    <li class="nav-item">
    <a class="nav-link" href="#">About</a>
    </li>
    </ul>

</ul>
{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}
<br>
<div class="container">
    <div class="row">
        <div class="col-sm-5">
            <div class="panel panel-default">
                <div class="panel-heading">Posted request</div>
                <div class="panel-body">
                {% if request_list %}
                {# display all requests belong to the user#}
                {% for request in request_list %}
                    {# display all matched user#}
                    <a href="{% url 'gym_buddy_app:requestDetail' request.id  %}">{{request.id}}:{{request.request_time|date}}</a>
                    {% for match in request.matched_request.all %}
                        <li>user_attend:{{match.requester.user_name}}</li>
                    {% empty %}
                        <li>No matched gym buddy yet.</li>
                    {% endfor%}
                    {# display all recommend user#}
                    {% for recommend in request.recommend_request.all %}
                        <li>recommend_user:{{recommend.requester.user_name}}<a href="{% url 'gym_buddy_app:confirmRequest' user.id request.id recommend.id %}">   Attend</a></li>
                    {% empty %}
                        <li>No recommend gym buddy yet.</li>
                    {% endfor%}
                {% endfor%}
                {% else %}
                    <p>No Request for this user,</p>
                {% endif%}
                </div>
            </div>
        </div> <!--col_6-->
        <div class="col-sm-7">
         
        </div>
    </div> <!--row-->
</div> <!--container-->
<br>

<div class="container">
    <div class="row">
        <div class="col-sm-5">
        <div class="panel panel-default">
        <div class="panel-heading">Add a request</div>
        <div class="panel-body">
        <form action="{% url 'gym_buddy_app:addRequest' user.id  %}" method="post">
            {% csrf_token %}
            <label>Time to choose</label>
            <input type="datetime-local" name="time" class="form-control"/><br>
            <label>Training part</label>
            <select name="training_part" class="form-control">
                {% for k,v in choices%}
                <option value="{{k}}">{{v}}
                {% endfor %}
            </select>
            <label>Training weight</label>
            <input type="number" name="training_weight" class="form-control"/><br>
            <input type="submit" value="add a request" class="btn btn-default">
        </form>
        </div>
        </div> 
        </div> <!--col-->
    </div> <!--row-->
</div> <!--container-->
